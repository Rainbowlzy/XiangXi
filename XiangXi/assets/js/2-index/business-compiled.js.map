{"version":3,"sources":["business.js"],"names":[],"mappings":"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","file":"business-compiled.js","sourcesContent":["'use strict';\n\nconsole.log(1);\n\nrequire(['vue', 'jquery', 'bootstrap', 'cmodules'], function (Vue, $) {\n    \n    if((location.href.split(\"?\")[1]||'').indexOf('show_menu=no')!==-1){\n\n    }\n\n    $(function () {\n        var w = window.screen.width;\n        var zoom = w / 1920;\n        $(\"#container\").css({\n            \"zoom\": zoom,\n            \"-moz-transform\": \"scale(\" + zoom + \")\",\n            \"-moz-transform-origin\": \"top left\"\n        });\n    });\n    //判断是否为IE\n    if (!!window.ActiveXObject || \"ActiveXObject\" in window) {\n        $(\"body\").css('zoom', '0.7');\n        $(\"#nav ul li\").css('margin', '15px 10px');\n        $(\"#exit\").css({ 'left': '1840px' });\n        $(\"#third-menu\").css('left', '19%');\n        $(\"#third-menu a img\").css({ 'transform': 'scale(0.8)' }, { '-ms-transform': 'scale(0.8)' }, { '-webkit-transform': 'scale(0.8)' }, { '-o-transform': 'scale(0.8)' }, { '-moz-transform': 'scale(0.8)' }, { 'margin': '-15px -15px' });\n    } else if (window.navigator.userAgent.indexOf(\"MSIE\") >= 1) {\n        $(\"body\").css('zoom', '0.7');\n        $(\"#nav ul li\").css('margin', '18px 10px');\n        $(\"#exit\").css({ 'left': '1840px' });\n        $(\"#third-menu\").css('left', '19%');\n        $(\"#third-menu a img\").css({ 'transform': 'scale(0.8)' }, { '-ms-transform': 'scale(0.8)' }, { '-webkit-transform': 'scale(0.8)' }, { '-o-transform': 'scale(0.8)' }, { '-moz-transform': 'scale(0.8)' }, { 'margin': '-15px -15px' });\n    } else {\n        $(\"#third-menu a img\").css({ 'margin': '10px 10px' });\n    }\n    //判断浏览器\n    //function getBrowserInfo() {\n    //    var Sys = {};\n    //    var ua = navigator.userAgent.toLowerCase();\n    //    var re = /(msie|firefox|chrome|opera|version).*?([\\d.]+)/;\n    //    var m = ua.match(re);\n    //    Sys.browser = m[1].replace(/version/, \"'safari\");\n    //    Sys.ver = m[2];\n    //    return Sys;\n    //}\n    //var sys = getBrowserInfo();\n    //console.log(sys.browser);\n    var request = GetRequest() || {\n        data: JSON.stringify({\n            MCCaption: '首页'\n        })\n    };\n    var imglist = '../assets/i/emptyimage/1.png,../assets/i/emptyimage/11.png,../assets/i/emptyimage/111.png,../assets/i/emptyimage/123.png,../assets/i/emptyimage/12312315.png,../assets/i/emptyimage/2.png,../assets/i/emptyimage/22 (2).png,../assets/i/emptyimage/22.png,../assets/i/emptyimage/222 (2).png,../assets/i/emptyimage/222.png,../assets/i/emptyimage/2231.png,../assets/i/emptyimage/256.png,../assets/i/emptyimage/3.png,../assets/i/emptyimage/33 (2).png,../assets/i/emptyimage/33.png,../assets/i/emptyimage/44.png,../assets/i/emptyimage/45463.png,../assets/i/emptyimage/45465.png,../assets/i/emptyimage/5456.png,../assets/i/emptyimage/55.png,../assets/i/emptyimage/78.png,../assets/i/emptyimage/78423.png,../assets/i/emptyimage/888.png,../assets/i/emptyimage/895.png,../assets/i/emptyimage/denglurizhi.png,../assets/i/emptyimage/list.txt,../assets/i/emptyimage/tu (2).png,../assets/i/emptyimage/tu.png,../assets/i/emptyimage/tutututu.png,../assets/i/emptyimage/tututuu.png,../assets/i/emptyimage/组1拷贝19.png'.split(\",\");\n\n    var vm = new Vue({\n        el: '#container',\n        data: {\n            current_menu:\"首页\",\n            secondmenu: [],\n            thirdmenu: [],\n            svcHeader: svcHeader,\n            imglist: imglist,\n            colorlist: \"CCDB4C#A8B81F#739DFB#5381E7#BB8BC6#A077A9#FB9A73#E87C51#E2767D#D83D47#5F9FC9#4B83A7#82DC66#54B935#5F9FC9#4B83A7#D04AD5#BB28C0#CCDB4C#A8B81F#739DFB#5381E7#BB8BC6#A077A9#FB9A73#E87C51#E2767D#D83D47#5F9FC9#4B83A7#82DC66#54B935#5F9FC9#4B83A7#D04AD5#BB28C0\".split('#').reverse()\n        },\n        mounted: function mounted() {\n            if (location.href.indexOf('?') != -1) return;\n            var mapmenu = {\n                \"id\": \"d0fde592-2d11-4d82-bcd8-a8087a9ac915\",\n                \"MCCaption\": \"村务地图\",\n                \"MCLink\": \"/XiangXi/2_map/map.html?lnglat=[120.511929,31.252366]&zoom=16\",\n                \"MCPicture\": \"/XiangXi/Upload/Image/966385cf-13d8-4381-8d08-cd74daa5cea5.png\",\n                \"MCMenuType\": \"首页菜单\",\n                \"TransactionID\": \"ca1227e1-0792-499b-b6a5-dfb4a4ef72fc\",\n                \"CreateBy\": \"xiangxi\",\n                \"CreateOn\": \"2018-05-16T00:00:00\",\n                \"UpdateBy\": \"xiangxi\",\n                \"UpdateOn\": \"2018-05-16T22:51:43.79\"\n            };\n            this.redirect(mapmenu);\n        },\n\n        methods: {\n            random: function random() {\n                return Math.random() * this.imglist.length;\n            },\n            isdirect: function isdirect(row) {\n                return row && (row.MCLink || row.link) && (row.MCLink || row.link).indexOf('business.html') === -1;\n            },\n            redirect: function redirect(p) {\n                if (p && p.isimage) return;\n                //$(\"iframe\").remove();\n                $('#third-menu').hide();\n                var link = p.link || p.MCLink || '';\n                if (!link || link === '' || link === 'null' || link === svcHeader || link === svcHeader+'null') {\n                    location.href = '/XiangXi/1_index/business.html?data=' + encodeURIComponent(JSON.stringify({ MCCaption: p.title || p.MCCaption }));\n                    return;\n                }\n\n                if (link.indexOf(svcHeader) !== -1) link = link.substr(svcHeader.length);\n                if (link.indexOf('http://') === -1) link = svcHeader + link;\n\n                if (link.indexOf('business.html') !== -1) parent.location.href = link;\n\n                $('iframe').remove();\n\n                if ($(\"iframe\").length == 0) var iframe = $(\"<iframe></iframe>\")\n                    .attr(\"src\", link)\n                    .attr(\"width\", $(window).width())\n                    .attr(\"height\", $(window).height())\n                    //                                        .attr(\"scrolling\", \"no\")\n                    .attr(\"frameborder\", \"0\").css({\n                        \"top\": \"18%\",\n                        \"position\": \"fixed\",\n                        \"left\":\"0px\",\n                        \"background\": \"transparent\"\n                    });else var iframe = $(\"iframe\").attr(\"src\", link);\n\n                $(document.body)\n                    .append(iframe);\n                $(window).resize(function () {\n                    $(iframe).attr(\"width\", $(window).width()).attr(\"height\", $(window).height());\n                });\n                var caption = p.title || p.MCCaption;\n                this.$data.current_menu=caption;\n            }\n        }\n    });\n\n    if(request.data){\n        var m = JSON.parse(request.data);\n        if(m){\n            vm.$data.current_menu = m.MCCaption;\n        }\n    }\n    $.call(\"GetMenuConfigurationByAuth\", { \"offset\": 0, \"limit\": 800, sort: 'MCSequence' }, function (datum) {\n        // 这里请求顶部菜单数据\n        if (!datum.success) {\n            alert(datum.message);\n            return;\n        }\n        vm.$data.secondmenu = datum.rows;\n\n        // category = 首页背景图片\n        $(document.body).css({\n            //\"background-image\": \"url(\"+(datum.background||'../assets/i/metaicon/e.jpg')+\")\",\n            //                \"height\": '1080px',\n            //'width': '1920px',\n            'background-repeat': 'no-repeat',\n            'background-size': 'cover'\n            //                'overflow': 'hidden',\n        });\n        if(!request.data)return;\n\n\n\n        var parent = JSON.parse(request.data);\n        var menu = {\n            \"offset\": 0, \"limit\": 800, \"sort\": \"MCSequence\",\"order\":\"asc\", \"MCParentTitle\": parent.MCCaption\n        };\n        $.call('getmenuconfigurationlist', menu, function (resp) {\n            vm.$data.thirdmenu = resp.rows.map(function (i) {\n                return { img: i.MCPicture, link: svcHeader + i.MCLink, title: i.MCCaption };\n            }).filter(function (e) {\n                return e;\n            });\n            var MAX = 12\n            var len = vm.$data.thirdmenu.length;\n            var imglen = imglist.length;\n            if (len<MAX) {\n                // load images async\n                for (var i = 0; i < imglen; i++) {\n                    var img = new Image();\n                    img.src = imglist[i];\n                }\n                var imgindex = 0;\n                for (var i = 0; i < MAX-len; ++i) {\n                    vm.$data.thirdmenu.push({ img: imglist[imglen%(++imgindex)], title: '', link: '', isimage: true })\n                }\n            }\n\n            if (len / 4 <= 1) {\n                $(\"#third-menu\").css({ \"bottom\": \"42%\", \"top\": \"42%\" });\n            }\n\n            if (len / 4 <= 2 && len / 4 > 1) {\n                $(\"#third-menu\").css({ \"bottom\": \"33%\", \"top\": \"33%\" });\n            }\n\n        });\n    });\n});\n\n//# sourceMappingURL=business.js.map"]}